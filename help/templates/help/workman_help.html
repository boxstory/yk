{% extends 'base_dashboard.html' %}
{% load static %}
{% block content %}
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="{% url 'workman:dashboard' %}">Dashboard</a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">Help</li>
                    </ol>
                </nav>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-header text-white"
                         style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)">
                        <h2 class="mb-0">
                            <i class="fas fa-tools"></i> Service Provider Help Guide
                        </h2>
                    </div>
                    <div class="card-body">
                        <p class="lead">
                            Welcome to the Service Provider help guide. This page will walk you through the complete workflow for managing your tasks on Yellowkey.
                        </p>
                        <div class="alert mt-4"
                             style="background-color: #fef3c7;
                                    border-left: 4px solid #fbbf24;
                                    color: #92400e">
                            <strong><i class="fas fa-info-circle"></i> Quick Overview:</strong> As a Service Provider, you can view assigned tasks, accept or reject them, perform work, and update task status until completion.
                        </div>
                        <!-- Workflow Chart -->
                        <div class="card mt-4" style="border: 2px solid #3b82f6;">
                            <div class="card-header text-white"
                                 style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)">
                                <h3 class="mb-0">
                                    <i class="fas fa-project-diagram"></i> Service Provider Workflow
                                </h3>
                            </div>
                            <div class="card-body">
                                <div class="workflow-chart">
                                    <div class="workflow-step">
                                        <span class="badge step-number" style="background-color: #3b82f6;">1</span>
                                        <h5>View Assigned Tasks</h5>
                                        <p>
                                            Check your dashboard for new maintenance requests and service tasks assigned to you by property owners or agents.
                                        </p>
                                    </div>
                                    <div class="workflow-arrow text-center">
                                        <i class="fas fa-arrow-down fa-2x" style="color: #3b82f6;"></i>
                                    </div>
                                    <div class="workflow-step">
                                        <span class="badge step-number" style="background-color: #3b82f6;">2</span>
                                        <h5>Accept/Reject Task</h5>
                                        <p>
                                            Review the task details, location, and requirements. Accept the task if you can complete it, or reject if unavailable.
                                        </p>
                                    </div>
                                    <div class="workflow-arrow text-center">
                                        <i class="fas fa-arrow-down fa-2x" style="color: #3b82f6;"></i>
                                    </div>
                                    <div class="workflow-step">
                                        <span class="badge step-number" style="background-color: #3b82f6;">3</span>
                                        <h5>Perform Task</h5>
                                        <p>Complete the maintenance or service work according to the specifications provided by the client.</p>
                                    </div>
                                    <div class="workflow-arrow text-center">
                                        <i class="fas fa-arrow-down fa-2x" style="color: #3b82f6;"></i>
                                    </div>
                                    <div class="workflow-step">
                                        <span class="badge step-number" style="background-color: #3b82f6;">4</span>
                                        <h5>Update Task Status</h5>
                                        <p>Keep clients informed by updating the task status. Add notes or photos if needed to document progress.</p>
                                    </div>
                                    <div class="workflow-arrow text-center">
                                        <i class="fas fa-arrow-down fa-2x" style="color: #3b82f6;"></i>
                                    </div>
                                    <div class="workflow-step">
                                        <span class="badge step-number"
                                              style="background-color: #fbbf24;
                                                     color: #1f2937">5</span>
                                        <h5>Mark Task as Complete</h5>
                                        <p>Once the work is finished, mark the task as complete. The client will be notified and can provide feedback.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Detailed Instructions -->
                        <div class="card mt-4">
                            <div class="card-header bg-light">
                                <h3 class="mb-0">
                                    <i class="fas fa-book"></i> Detailed Instructions
                                </h3>
                            </div>
                            <div class="card-body">
                                <div class="accordion" id="helpAccordion">
                                    <!-- Step 1 -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingOne">
                                            <button class="accordion-button"
                                                    type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseOne"
                                                    aria-expanded="true"
                                                    aria-controls="collapseOne">Step 1: View Assigned Tasks</button>
                                        </h2>
                                        <div id="collapseOne"
                                             class="accordion-collapse collapse show"
                                             aria-labelledby="headingOne"
                                             data-bs-parent="#helpAccordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li>Log in to your dashboard</li>
                                                    <li>Navigate to "My Tasks" or "Assigned Tasks" section</li>
                                                    <li>View all pending, in-progress, and completed tasks</li>
                                                    <li>Click on any task to view full details</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Step 2 -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingTwo">
                                            <button class="accordion-button collapsed"
                                                    type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseTwo"
                                                    aria-expanded="false"
                                                    aria-controls="collapseTwo">Step 2: Accept/Reject Task</button>
                                        </h2>
                                        <div id="collapseTwo"
                                             class="accordion-collapse collapse"
                                             aria-labelledby="headingTwo"
                                             data-bs-parent="#helpAccordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li>Review task description, location, and timeline</li>
                                                    <li>Check if you have the required skills and availability</li>
                                                    <li>Click "Accept" to take on the task</li>
                                                    <li>Click "Reject" if you cannot complete the task (provide reason if required)</li>
                                                    <li>Accepted tasks will move to your "Active Tasks" list</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Step 3 -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingThree">
                                            <button class="accordion-button collapsed"
                                                    type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseThree"
                                                    aria-expanded="false"
                                                    aria-controls="collapseThree">Step 3: Perform Task</button>
                                        </h2>
                                        <div id="collapseThree"
                                             class="accordion-collapse collapse"
                                             aria-labelledby="headingThree"
                                             data-bs-parent="#helpAccordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li>Contact the client if you need additional information</li>
                                                    <li>Schedule a visit if required</li>
                                                    <li>Complete the work according to specifications</li>
                                                    <li>Maintain professional standards</li>
                                                    <li>Take photos before and after if applicable</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Step 4 -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingFour">
                                            <button class="accordion-button collapsed"
                                                    type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseFour"
                                                    aria-expanded="false"
                                                    aria-controls="collapseFour">Step 4: Update Task Status</button>
                                        </h2>
                                        <div id="collapseFour"
                                             class="accordion-collapse collapse"
                                             aria-labelledby="headingFour"
                                             data-bs-parent="#helpAccordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li>Update task status regularly (In Progress, On Hold, etc.)</li>
                                                    <li>Add notes to document your progress</li>
                                                    <li>Upload photos if relevant</li>
                                                    <li>Communicate any delays or issues immediately</li>
                                                    <li>Keep the client informed of your progress</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Step 5 -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingFive">
                                            <button class="accordion-button collapsed"
                                                    type="button"
                                                    data-bs-toggle="collapse"
                                                    data-bs-target="#collapseFive"
                                                    aria-expanded="false"
                                                    aria-controls="collapseFive">Step 5: Mark Task as Complete</button>
                                        </h2>
                                        <div id="collapseFive"
                                             class="accordion-collapse collapse"
                                             aria-labelledby="headingFive"
                                             data-bs-parent="#helpAccordion">
                                            <div class="accordion-body">
                                                <ul>
                                                    <li>Ensure all work is finished to satisfaction</li>
                                                    <li>Upload final photos or documentation</li>
                                                    <li>Add completion notes</li>
                                                    <li>Click "Mark as Complete"</li>
                                                    <li>Client will be notified and may provide feedback</li>
                                                    <li>Task will move to "Completed Tasks" list</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Tips and Best Practices -->
                        <div class="card mt-4" style="border: 2px solid #fbbf24;">
                            <div class="card-header text-white"
                                 style="background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)">
                                <h3 class="mb-0">
                                    <i class="fas fa-lightbulb"></i> Tips and Best Practices
                                </h3>
                            </div>
                            <div class="card-body">
                                <ul>
                                    <li>
                                        <strong>Respond Quickly:</strong> Accept or reject tasks within 24 hours to maintain good ratings
                                    </li>
                                    <li>
                                        <strong>Communicate:</strong> Keep clients updated throughout the process
                                    </li>
                                    <li>
                                        <strong>Be Professional:</strong> Arrive on time and maintain professional conduct
                                    </li>
                                    <li>
                                        <strong>Document Work:</strong> Take photos before and after to protect yourself and inform clients
                                    </li>
                                    <li>
                                        <strong>Quality Service:</strong> Deliver high-quality work to receive positive reviews and more assignments
                                    </li>
                                    <li>
                                        <strong>Update Profile:</strong> Keep your skills and availability up to date
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- Need More Help -->
                        <div class="alert mt-4"
                             style="background-color: #dbeafe;
                                    border-left: 4px solid #3b82f6;
                                    color: #1e3a8a">
                            <h4>
                                <i class="fas fa-question-circle"></i> Need More Help?
                            </h4>
                            <p>If you have questions or need assistance, please contact us:</p>
                            <ul class="mb-0">
                                <li>
                                    Email: <a href="mailto:admin@yellowkey.qa">support@yellowkey.qa</a>
                                </li>
                                <li>
                                    Phone: <a href="tel:+97477123456">+974 3343 0001</a>
                                </li>
                                <li>WhatsApp: Join our Service Provider support group from your dashboard</li>
                            </ul>
                        </div>
                        <div class="text-center mt-4">
                            <a href="{% url 'workman:dashboard' %}"
                               class="btn btn-lg text-white"
                               style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)">
                                <i class="fas fa-arrow-left"></i> Back to Dashboard
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style>
.workflow-step {
    padding: 20px;
    margin: 10px 0;
    border-left: 4px solid #3b82f6;
    background-color: #f8f9fa;
    border-radius: 5px;
}
.workflow-step h5 {
    color: #1e3a8a;
    margin-top: 10px;
}
.step-number {
    font-size: 1.2em;
    padding: 8px 12px;
}
.workflow-arrow {
    margin: 10px 0;
}
    </style>
{% endblock %}
