{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block head_title %}Inquires {% endblock %}


{% block extra_css %}
<!-- extra css -->
<link type="text/css" rel="stylesheet" href="{% static '/webpages/css/main.css' %}">
<link type="text/css" rel="stylesheet" href="{% static '/property/css/property.css' %}">

{% endblock extra_css %}
{% block content %}
<!-- content -->

<div class="modern-inquire-wrapper">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-8 col-lg-10">
            
                <!-- Header Section -->
                <div class="modern-form-header">
                  
                    <h1 class="modern-form-title">Property Inquiry</h1>
                    <p class="modern-form-subtitle">Tell us about your ideal property and we'll help you find it</p>
                </div>

                <!-- Form Container -->
                <div class="modern-form-card">
                    <form method="post" enctype="multipart/form-data" class="modern-inquire-form">
                        {% csrf_token %}

                        <!-- Error Messages -->
                        {% if form.non_field_errors %}
                            <div class="alert-error">
                                {% for error in form.non_field_errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}

                        <!-- Contact Information Section -->
                        <div class="form-section">
                            <h3 class="section-title">Contact Information</h3>

                            <div class="form-row">
                                <!-- Name Field -->
                                {% with field=form.name %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="input-wrapper">
                                        <i class="bi bi-person"></i>
                                        <input type="text" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Your full name" value="{{ field.value|default:'' }}" class="modern-input">
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}

                                <!-- Mobile Number Field -->
                                {% with field=form.mobile_no %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="input-wrapper">
                                        <i class="bi bi-telephone"></i>
                                        <input type="number" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Mobile number" value="{{ field.value|default:'' }}" class="modern-input">
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}
                            </div>

                            <div class="form-row">
                                <!-- WhatsApp Field -->
                                {% with field=form.whatsapp_no %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="input-wrapper">
                                        <i class="bi bi-whatsapp"></i>
                                        <input type="number" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="WhatsApp (974...)" value="{{ field.value|default:'' }}" class="modern-input">
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}

                                <!-- Locations Field -->
                                {% with field=form.locations %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="input-wrapper">
                                        <i class="bi bi-geo-alt"></i>
                                        <input type="text" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Preferred locations" value="{{ field.value|default:'' }}" class="modern-input">
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}
                            </div>
                        </div>

                        <!-- Property Preferences Section -->
                        <div class="form-section">
                            <h3 class="section-title">Property Preferences</h3>

                            <div class="form-row">
                                <!-- Furnished Type -->
                                {% with field=form.furnished_type %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="select-wrapper">
                                        <select id="{{ field.id_for_label }}" name="{{ field.name }}" class="modern-select">
                                            <option value="">Select type</option>
                                            {% for option_value, option_label in field.field.choices %}
                                                <option value="{{ option_value }}" {% if field.value == option_value %}selected{% endif %}>{{ option_label }}</option>
                                            {% endfor %}
                                        </select>
                                        <i class="bi bi-chevron-down"></i>
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}

                                <!-- Property Type -->
                                {% with field=form.property_type %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="select-wrapper">
                                        <select id="{{ field.id_for_label }}" name="{{ field.name }}" class="modern-select">
                                            <option value="">Select property</option>
                                            {% for option_value, option_label in field.field.choices %}
                                                <option value="{{ option_value }}" {% if field.value == option_value %}selected{% endif %}>{{ option_label }}</option>
                                            {% endfor %}
                                        </select>
                                        <i class="bi bi-chevron-down"></i>
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}
                            </div>

                            <div class="form-row">
                                <!-- Price Range -->
                                <div class="form-group modern-field full-width">
                                    <label>Price Range</label>
                                    <div class="price-range">
                                        {% with field=form.price_from %}
                                        <div class="input-wrapper">
                                            <i class="bi bi-currency-dollar"></i>
                                            <input type="number" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Min price" value="{{ field.value|default:'' }}" class="modern-input">
                                        </div>
                                        {% endwith %}
                                        <span class="range-separator">to</span>
                                        {% with field=form.price_to %}
                                        <div class="input-wrapper">
                                            <i class="bi bi-currency-dollar"></i>
                                            <input type="number" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Max price" value="{{ field.value|default:'' }}" class="modern-input">
                                        </div>
                                        {% endwith %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Availability Section -->
                        <div class="form-section">
                            <h3 class="section-title">Availability & Duration</h3>

                            <div class="form-row">
                                <!-- Date From -->
                                {% with field=form.date_from %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="input-wrapper">
                                        <i class="bi bi-calendar-event"></i>
                                        <input type="datetime-local" id="{{ field.id_for_label }}" name="{{ field.name }}" value="{{ field.value|default:'' }}" class="modern-input">
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}

                                <!-- Duration -->
                                {% with field=form.duration %}
                                <div class="form-group modern-field">
                                    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                    <div class="input-wrapper">
                                        <i class="bi bi-clock-history"></i>
                                        <input type="number" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Months" value="{{ field.value|default:'' }}" class="modern-input">
                                    </div>
                                    {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                                </div>
                                {% endwith %}
                            </div>
                        </div>

                        <!-- Additional Notes Section -->
                        <div class="form-section">
                            <!-- Property Type Other -->
                            {% with field=form.property_type_other %}
                            <div class="form-group modern-field">
                                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                <div class="input-wrapper">
                                    <i class="bi bi-pencil-square"></i>
                                    <input type="text" id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Specify other type" value="{{ field.value|default:'' }}" class="modern-input">
                                </div>
                                {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                            </div>
                            {% endwith %}

                            <!-- Notes -->
                            {% with field=form.notes %}
                            <div class="form-group modern-field">
                                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                <div class="textarea-wrapper">
                                    <i class="bi bi-chat-dots"></i>
                                    <textarea id="{{ field.id_for_label }}" name="{{ field.name }}" placeholder="Any additional requirements..." class="modern-textarea">{{ field.value|default:'' }}</textarea>
                                </div>
                                {% if field.errors %}<span class="error-text">{{ field.errors.0 }}</span>{% endif %}
                            </div>
                            {% endwith %}
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="modern-submit-btn">
                            <span class="btn-text">Send Inquiry</span>
                            <i class="bi bi-arrow-right"></i>
                        </button>
                    </form>
                </div>

                <!-- Back Link -->
                <div class="modern-form-footer">
                    <a href="{% url 'property:inquire_lists' %}" class="modern-back-link">
                        <i class="bi bi-arrow-left"></i>
                        <span>Back to Inquiries</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}

<!-- extra js -->
{% block extra_js %}


{% endblock extra_js %}