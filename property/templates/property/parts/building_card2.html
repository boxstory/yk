<div class=" col-md-6  p-2  col-12">
    <div class="row border g-0 rounded overflow-hidden flex-md-row p-2 shadow-sm h-md-250 position-relative">
        <div class="col-8 px-2 d-flex flex-column pt-2">
            <h3 class="mb-0">{{ property.name }}</h3>
            <strong class="d-inline-block mb-2 text-success">Zone: {{ property.zone_no }}-{{ property.landmark }}</strong>
            <strong class="d-inline-block mb-2 text-success">Code: {{ property.client_code }}</strong>
            <strong class="d-inline-block mb-2 text-success">Portions:
                {% for portion in portions_count %}
                    {% if portion.id == property.id %}{{ portion.number_of_portions }}{% endif %}
                {% endfor %}
            </strong>
        </div>
        <div class="col-4 text-end">
            <img class="img-fluid img-thumbnail rounded border-0 "
                 src="{{ MEDIA_URL }}{{ property.photo_main }}"
                 style="height:150px"
                 role="img"
                 aria-label="Placeholder: Thumbnail"
                 preserveAspectRatio="xMidYMid slice"
                 focusable="false">
        </div>
        <div class="col-12 px-2">
            <div class="  pt-md-1">
                <div class="p fw-bold">Portions: {{ property.portions.count }}</div>
                <div class="d-flex flex-wrap">
                    {% for portion in property.portions.all %}
                        <div class="col-6 col-md-4  p-1">
                            <div class="card  p-2">
                                <p class="card-title">Code: {{ portion.portion_code }}</p>
                                <p class="card-title">Floor: {{ portion.floor }}</p>
                                <p class="card-title">Type: {{ portion.portion_type }}</p>
                            </div>
                            {% if portion.portions_status.first.status == null %}
                                <span class="d-block bg-danger py-1 fw-bold bg-gradient text-white text-center">Vacant</span>
                            {% elif portion.portions_status.first.status == 'Vacant' %}
                                <span class="d-block bg-danger py-1 fw-bold bg-gradient text-white text-center">Vacant</span>
                            {% elif portion.portions_status.first.status == 'Soon' %}
                                <span class="d-block bg-warning py-1 fw-bold bg-gradient text-dark text-center">Soon</span>
                            {% elif portion.portions_status.first.status == 'Occupied' %}
                                <span class="d-block  bg-success py-1 fw-bold bg-gradient text-white text-center">Occupied</span>
                            {% else %}
                                <span class="d-block bg-danger py-1 fw-bold bg-gradient text-white text-center">Vacant</span>
                            {% endif %}
                        </div>
                    {% endfor %}
                    <div class="col-6 col-md-4   p-1 pt-4">
                        <a href="#"
                           class="d-block mb-2 rounded-3 bg-dark py-1 fw-bold text-light text-center text-decoration-none">Add Portion</a>
                        <a href="#"
                           class="d-block mb-2 rounded-3  bg-dark py-1 fw-bold text-light text-center text-decoration-none">Edit Portions</a>
                        <a href="{% url 'property:portion_vacant_status_list' property.user.id property.id %}"
                           class="d-block mb-2 rounded-3  bg-dark py-1 fw-bold text-light text-center text-decoration-none">Edit Status</a>
                    </div>
                </div>
            </div>
            <div>
                <div class="d-flex pt-md-1">
                    <a href="{% url 'property:portion_single_building' property.user.id property.id %}"
                       class="col flex-fill  align-text-center  m-1 p-1 btn btn-outline-dark ">Portions</a>
                    {% if request.user.id == property.user.id %}
                        <a href="{% url 'property:building_update' property.user.id property.id %}"
                           class="col flex-fill  align-text-center  m-1 p-1 btn btn-outline-dark ">Edit</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
